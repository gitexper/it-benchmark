"""
IT Benchmarking Data — Financial Services Industry
Sources: Gartner, Avasant/Computer Economics, APQC, McKinsey, IANS Research, MetricNet
All figures represent 2024 baseline data.
"""

BENCHMARKS = {
    # ── Spend Metrics ──────────────────────────────────────────────
    "it_spend_pct_revenue": {
        "name": "IT Spend as % of Revenue",
        "category": "Spend",
        "unit": "%",
        "format": ".1f",
        "top_quartile": 5.7,
        "median": 7.9,
        "bottom_quartile": 11.4,
        "direction": "lower_is_better",
        "description": "Total IT budget divided by annual revenue.",
        "insight_high": "You are spending significantly more on IT relative to revenue than peers. This may indicate inefficiency, technical debt, or a strategic heavy-investment phase.",
        "insight_low": "Your IT spend is lean relative to revenue. Verify this isn't creating underinvestment risk in security, modernization, or talent.",
        "insight_aligned": "Your IT spend as a percentage of revenue is well-aligned with Financial Services peers.",
        "source": "Gartner / Avasant Computer Economics",
    },
    "it_spend_per_employee": {
        "name": "IT Spend per Employee",
        "category": "Spend",
        "unit": "$",
        "format": ",.0f",
        "top_quartile": 18_000,
        "median": 35_000,
        "bottom_quartile": 55_000,
        "direction": "lower_is_better",
        "description": "Total IT budget divided by total firm headcount.",
        "insight_high": "Your per-employee IT cost is above the median. Check for over-provisioning, license waste, or high support costs.",
        "insight_low": "You are spending less per employee than peers. Ensure end-user experience and productivity tooling are not suffering.",
        "insight_aligned": "Your per-employee IT spend is in line with Financial Services norms.",
        "source": "Gartner / SouthState",
    },
    "it_spend_pct_opex": {
        "name": "IT Spend as % of OpEx",
        "category": "Spend",
        "unit": "%",
        "format": ".1f",
        "top_quartile": 8.5,
        "median": 11.2,
        "bottom_quartile": 15.0,
        "direction": "lower_is_better",
        "description": "Total IT budget as a share of total operating expenses.",
        "insight_high": "IT is consuming a large share of operating expenses. Evaluate whether this reflects strategic investment or cost inefficiency.",
        "insight_low": "IT's share of OpEx is low. This could indicate efficiency or potential underinvestment.",
        "insight_aligned": "Your IT share of operating expenses is typical for the industry.",
        "source": "Gartner / SouthState",
    },

    # ── Staffing Metrics ───────────────────────────────────────────
    "it_staff_pct_employees": {
        "name": "IT Staff as % of Total Employees",
        "category": "Staffing",
        "unit": "%",
        "format": ".1f",
        "top_quartile": 8.0,
        "median": 12.3,
        "bottom_quartile": 17.0,
        "direction": "lower_is_better",
        "description": "IT FTEs as a share of total firm headcount.",
        "insight_high": "Your IT headcount ratio is above the median. Evaluate whether automation, outsourcing, or process improvement could reduce this.",
        "insight_low": "Your IT staffing is lean. Ensure critical capabilities (security, architecture) are not understaffed.",
        "insight_aligned": "Your IT staffing ratio is typical for Financial Services.",
        "source": "Gartner / GoWorkWize",
    },
    "it_staffing_ratio": {
        "name": "IT Staffing Ratio (Users per IT FTE)",
        "category": "Staffing",
        "unit": "ratio",
        "format": ".0f",
        "top_quartile": 50,
        "median": 70,
        "bottom_quartile": 100,
        "direction": "lower_is_better",
        "description": "Number of total employees supported per IT FTE. Lower means more IT support per person.",
        "insight_high": "Each IT person supports many users. You may be understaffed relative to peers, risking service quality.",
        "insight_low": "You have rich IT support coverage per employee. Verify this level of investment is delivering proportional value.",
        "insight_aligned": "Your IT support ratio is well-aligned with industry peers.",
        "source": "GoWorkWize / TalentMSH",
    },

    # ── Budget Allocation ──────────────────────────────────────────
    "run_budget_pct": {
        "name": "Run (Keep-the-Lights-On) Budget %",
        "category": "Budget Allocation",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 55,
        "median": 67,
        "bottom_quartile": 78,
        "direction": "lower_is_better",
        "description": "Percentage of IT budget spent on maintaining existing operations.",
        "insight_high": "A high Run budget leaves little room for innovation. Consider modernization to free up capacity.",
        "insight_low": "You are keeping Run costs low, freeing budget for growth and transformation. Strong position.",
        "insight_aligned": "Your Run allocation is typical — most firms spend about two-thirds maintaining existing systems.",
        "source": "Gartner / SouthState",
    },
    "grow_budget_pct": {
        "name": "Grow (Enhance) Budget %",
        "category": "Budget Allocation",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 27,
        "median": 22,
        "bottom_quartile": 15,
        "direction": "higher_is_better",
        "description": "Percentage of IT budget spent on enhancing existing capabilities.",
        "insight_high": "Strong Grow investment — you are actively enhancing capabilities ahead of peers.",
        "insight_low": "Your Grow allocation is below peers. Existing capabilities may fall behind competitive expectations.",
        "insight_aligned": "Your Grow allocation is in line with industry norms.",
        "source": "Gartner / SouthState",
    },
    "transform_budget_pct": {
        "name": "Transform (Innovation) Budget %",
        "category": "Budget Allocation",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 18,
        "median": 11,
        "bottom_quartile": 7,
        "direction": "higher_is_better",
        "description": "Percentage of IT budget spent on transformative, new capability initiatives.",
        "insight_high": "You are investing heavily in transformation — a strong signal of digital maturity.",
        "insight_low": "Low Transform spending may indicate limited innovation pipeline or excessive technical debt consuming resources.",
        "insight_aligned": "Your Transform investment is in the typical range for Financial Services.",
        "source": "Gartner / SouthState",
    },

    # ── Technology Mix ─────────────────────────────────────────────
    "cloud_pct_budget": {
        "name": "Cloud Spend as % of IT Budget",
        "category": "Technology Mix",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 40,
        "median": 32,
        "bottom_quartile": 20,
        "direction": "higher_is_better",
        "description": "Cloud expenditure (IaaS, PaaS, SaaS) as a share of total IT budget.",
        "insight_high": "You are cloud-forward relative to peers. Ensure you have strong FinOps practices to manage cloud cost growth.",
        "insight_low": "Your cloud adoption is below the median. Legacy infrastructure may be dragging on agility and cost efficiency.",
        "insight_aligned": "Your cloud investment is on par with Financial Services peers.",
        "source": "Gartner / DataStackHub",
    },
    "cybersecurity_pct_budget": {
        "name": "Cybersecurity Spend as % of IT Budget",
        "category": "Technology Mix",
        "unit": "%",
        "format": ".1f",
        "top_quartile": 14.0,
        "median": 9.6,
        "bottom_quartile": 6.0,
        "direction": "higher_is_better",
        "description": "Cybersecurity and information security spend as a share of IT budget.",
        "insight_high": "Strong security investment. Ensure spend is outcome-driven, not just compliance-driven.",
        "insight_low": "Your security spend is below the median — a risk flag in a highly regulated, highly targeted industry.",
        "insight_aligned": "Your cybersecurity investment is in the typical range for Financial Services.",
        "source": "IANS Research / Deloitte",
    },

    # ── Cost Structure ─────────────────────────────────────────────
    "it_labor_pct_budget": {
        "name": "IT Labor Cost as % of IT Budget",
        "category": "Cost Structure",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 30,
        "median": 38,
        "bottom_quartile": 48,
        "direction": "lower_is_better",
        "description": "Internal IT labor costs (salaries, benefits) as a share of IT budget.",
        "insight_high": "Labor is consuming a large share of budget. Consider automation, offshore leverage, or managed services.",
        "insight_low": "Lean labor costs — verify this isn't creating key-person risk or quality issues.",
        "insight_aligned": "Your IT labor cost ratio is typical for the industry.",
        "source": "Gartner / SouthState",
    },
    "outsourcing_pct_budget": {
        "name": "Outsourcing Spend as % of IT Budget",
        "category": "Cost Structure",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 30,
        "median": 18,
        "bottom_quartile": 10,
        "direction": "higher_is_better",
        "description": "Outsourced IT services spend as a share of total IT budget.",
        "insight_high": "High outsourcing leverage can improve cost efficiency but watch for vendor dependency and knowledge loss.",
        "insight_low": "Low outsourcing may mean higher internal costs but better control. Evaluate selective outsourcing for commodity functions.",
        "insight_aligned": "Your outsourcing level is typical for Financial Services.",
        "source": "Gartner / ConnectBit",
    },
    "app_pct_budget": {
        "name": "Application Spend % (vs Infrastructure)",
        "category": "Cost Structure",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 65,
        "median": 60,
        "bottom_quartile": 50,
        "direction": "higher_is_better",
        "description": "Application spend as a share of combined application + infrastructure spend.",
        "insight_high": "Strong application investment relative to infrastructure — consistent with modern, cloud-native strategies.",
        "insight_low": "Infrastructure-heavy spending may indicate legacy on-prem footprint. Consider cloud migration to shift spend toward applications.",
        "insight_aligned": "Your application vs. infrastructure balance is in line with industry trends.",
        "source": "McKinsey",
    },

    # ── Operational Metrics ────────────────────────────────────────
    "system_availability": {
        "name": "Core System Availability",
        "category": "Operations",
        "unit": "%",
        "format": ".2f",
        "top_quartile": 99.99,
        "median": 99.95,
        "bottom_quartile": 99.90,
        "direction": "higher_is_better",
        "description": "Average uptime of core banking/trading/payment systems.",
        "insight_high": "Excellent availability — you are at or near four-nines, which is the gold standard.",
        "insight_low": "Your availability is below the median. In Financial Services, even small downtime gaps translate to material revenue and reputational risk.",
        "insight_aligned": "Your availability is on par with industry norms.",
        "source": "Industry standard SLA benchmarks",
    },
    "it_attrition_rate": {
        "name": "IT Employee Attrition Rate",
        "category": "Operations",
        "unit": "%",
        "format": ".0f",
        "top_quartile": 10,
        "median": 15,
        "bottom_quartile": 22,
        "direction": "lower_is_better",
        "description": "Annual voluntary turnover rate for IT staff.",
        "insight_high": "High attrition is costly and risks institutional knowledge loss. Review compensation, culture, and career paths.",
        "insight_low": "Strong retention — a competitive advantage in the talent-scarce IT market.",
        "insight_aligned": "Your IT attrition is in the typical range for Financial Services.",
        "source": "Payscale / BambooHR",
    },
    "helpdesk_cost_per_ticket": {
        "name": "Help Desk Cost per Ticket",
        "category": "Operations",
        "unit": "$",
        "format": ",.0f",
        "top_quartile": 12,
        "median": 22,
        "bottom_quartile": 40,
        "direction": "lower_is_better",
        "description": "Average fully-loaded cost to resolve a Tier 1 help desk ticket.",
        "insight_high": "Your cost per ticket is above the median. Look at self-service adoption, knowledge base quality, and first-call resolution rates.",
        "insight_low": "Efficient help desk operations. Verify quality metrics (CSAT, FCR) are also strong.",
        "insight_aligned": "Your help desk cost is in the typical range for the industry.",
        "source": "MetricNet / HDI",
    },
    "it_budget_yoy_growth": {
        "name": "IT Budget Year-over-Year Growth",
        "category": "Spend",
        "unit": "%",
        "format": ".1f",
        "top_quartile": 8.0,
        "median": 4.7,
        "bottom_quartile": 2.0,
        "direction": "higher_is_better",
        "description": "Percentage increase in IT budget from prior year.",
        "insight_high": "Aggressive budget growth signals strong organizational commitment to technology.",
        "insight_low": "Flat or declining IT budgets may constrain your ability to modernize and compete.",
        "insight_aligned": "Your budget growth rate is typical for Financial Services firms.",
        "source": "Gartner / SouthState",
    },
}

# Ordered list of metric keys for consistent display
METRIC_ORDER = [
    "it_spend_pct_revenue",
    "it_spend_per_employee",
    "it_spend_pct_opex",
    "it_budget_yoy_growth",
    "it_staff_pct_employees",
    "it_staffing_ratio",
    "run_budget_pct",
    "grow_budget_pct",
    "transform_budget_pct",
    "cloud_pct_budget",
    "cybersecurity_pct_budget",
    "it_labor_pct_budget",
    "outsourcing_pct_budget",
    "app_pct_budget",
    "system_availability",
    "it_attrition_rate",
    "helpdesk_cost_per_ticket",
]

# Category display order
CATEGORIES = [
    "Spend",
    "Staffing",
    "Budget Allocation",
    "Technology Mix",
    "Cost Structure",
    "Operations",
]
